<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65" crossorigin="anonymous">
</head>
<body>
    
    <div>
        <div class="text-center">
            <h4 style="margin-top: 10px;">Lista de Cargos</h4>
        </div>
        <div class="container text-center">
            <table class="table table-info table-striped" >
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Cargo</th>
                </tr>
                </thead>
                <tbody id="data">
                        
                </tbody>
            </table>
        </div>
    </div>
    <div>
        <div class="text-center">
            <h4 style="margin-top: 10px;">Lista Departamentos</h4>
        </div>
        <div class="container text-center">
            <table class="table table-info table-striped" >
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">Departamento</th>
                    <th scope="col">Direccion</th>
                    <th scope="col">Ciudad</th>
                </tr>
                </thead>
                <tbody id="departamento">
                        
                </tbody>
            </table>
        </div>
    </div>
    <div>
        <div class="text-center">
            <h4 style="margin-top: 10px;">Lista Jefes</h4>
        </div>
        <div class="container text-center">
            <table class="table table-info table-striped" >
                <thead>
                <tr>
                    <th scope="col">Rut</th>
                    <th scope="col">Nombre</th>
                    <th scope="col">Apellidos</th>
                    <th scope="col">id Depertamento</th>
                </tr>
                </thead>
                <tbody id="jefes">
                        
                </tbody>
            </table>
        </div>
    </div>
    
    
    <div class="text-center" style="background-color: rgb(136, 140, 144);">
        <h6 style="color: #ffff;">FERNANDO SOTO BARRA</h6>
        <div style="margin-left : 10px ; margin-top: 10px;">
            
            <a href="http://fernan2-001-site1.ftempurl.com/swagger/index.html" target="_blank">
                <button class="btn btn-secondary" style="margin-bottom : 10px;">IR A LA API</button>
            </a>
        </div>
    </div>
    

    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js" integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.min.js" integrity="sha384-cuYeSxntonz0PPNlHhBs68uyIAVpIIOZZ5JqeqvYYIcEL727kskC66kF92t6Xl2V" crossorigin="anonymous"></script>
<script>
    let url_cargos='http://fernan2-001-site1.ftempurl.com/api/v1/cargos/listar'
    fetch(url_cargos)
        .then(response => response.json())
        .then(data => mostrarData(data))
        .catch(error => console.log(error))

    const mostrarData = (data => {
        console.log(data)
        let body = ''
        data.forEach(element => {
            body += `<tr><td>${element.cod_cargo}</td><td>${element.nombre_cargo}</td></tr>`
        });

        document.getElementById('data').innerHTML = body
    })
    let url_departamentos='http://fernan2-001-site1.ftempurl.com/api/v1/departamentos/listar'
    fetch(url_departamentos)
        .then(response => response.json())
        .then(data => mostrarDep(data))
        .catch(error => console.log(error)
        )
    
    const mostrarDep = (dep => {
        depa = dep
        console.log(dep)
        let body = ''
        dep.forEach(element => {
            body += `<tr><td>${element.cod_departamento}</td><td>${element.nombre_departamento}</td><td>${element.direccion}</td><td>${element.ciudad}</td></tr>`
        });

        document.getElementById('departamento').innerHTML = body
    })

    let url_jefes='http://fernan2-001-site1.ftempurl.com/api/v1/jefes/listar'
    fetch(url_jefes)
        .then(response => response.json())
        .then(data => mostrarjefe(data))
        .catch(error => console.log(error)
        )
    
    const mostrarjefe = (jefe => {
        console.log(jefe)
        let body = ''
        jefe.forEach(element => {

        body += `<tr><td>${element.rut}</td><td>${element.nombre_jefe}</td><td>${element.apellidos_jefe}</td><td>${element.id_departamento}</td></tr>` 
        });

        document.getElementById('jefes').innerHTML = body
    })
    
</script>
</body>
</html>